
![](./_images/java-locks.png)



在 JDK 1.6 之前，synchronized 是重量级锁，效率低下。

从 JDK 1.6 开始，synchronized 做了很多优化，如偏向锁、轻量级锁、自旋锁、适应性自旋锁、锁消除、锁粗化等技术来减少锁操作的开销。



## 偏向锁、轻量级锁、重量级锁三者各自的应用场景：
偏向锁：只有一个线程进入临界区；
轻量级锁：多个线程交替进入临界区；
重量级锁：多个线程同时进入临界区。

